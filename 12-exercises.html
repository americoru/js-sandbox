<!DOCTYPE html>
<html>
  <head>
    <title>Advanced Functions</title>
    <style>
      .simple-button {
        background-color: green;
        color: white;
        border: none
      }
    </style>
  </head>
  <body>
    <button class="js-button" onclick="handleClck();">Start</button>
    <p></p>
    <button class="js-cart-button" onclick="addCart();">Add to cart</button>
    <p class="js-cart-message"></p>
    <button onclick="messageCount++;">Add</button>
    <button onclick="messageCount--;">Remove</button>


    <script>
      const add = function() {
        console.log(2 + 3);
      }
      add();

      function runTwice(fun) {
        fun();
        fun();
      }
      runTwice(function() {console.log('12b');})

      function handleClck() {
        const buttonElement = document.querySelector('.js-button');
        buttonElement.innerHTML = 'Loading...';

        setTimeout(function(){
          const buttonElement = document.querySelector('.js-button');
          buttonElement.innerHTML = 'Finished!';
        }, 1000)
      }

      let timeoutId;
      function addCart() {
        if (timeoutId)
          clearTimeout(timeoutId);
        const messageElement = document.querySelector('.js-cart-message');
        messageElement.innerHTML = 'Added';
        timeoutId = setTimeout(function() {
          const messageElement = document.querySelector('.js-cart-message');
          messageElement.innerHTML = '';
        }, 2000)
      }

      let messageCount = 2;
      function updateTitle() {
        if (messageCount < 0)
          messageCount = 0;
        if (messageCount === 0) {
          document.title = 'App';
          return;
        }
        
        if (document.title !== 'App')
          document.title = 'App'
        else
          document.title = `(${messageCount}) New messages`
      }

      setInterval(updateTitle, 1000)

   </script>
  </body>
</html>
